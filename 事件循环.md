# 事件循环

+ 同步：如果一个函数返回的时候，调用者能够立刻得到结果，那么这个函数就是同步的。
+ 异步：如果一个函数返回的时候，调用者不能够立刻得到结果，而是需要在将来某一时刻通过一定的手段得到结果，那么这个函数就是异步的。

JS的任务分为同步任务和异步任务

+ 同步任务：在主线程上排队执行的任务，只有前一个任务执行完成，才能执行下一个任务。
+ 异步任务：不进入主线程，而是放在任务队列中，若有多个异步任务则需要在任务队列中排队等待。

事件循环：JS在执行代码时，会先将同步的任务按照顺序在执行栈中执行。当遇到异步任务时，就将其放入任务队列，等到当前执行栈中的所有同步任务执行完成之后，就会从任务队列中取出已完成的异步任务的回调函数，并将其放入执行栈中去执行，如此循环往复，就形成了事件循环。

任务队列分为宏任务和微任务：

+ 宏任务：包括script整体代码，setTimeOut，setInterval等。
+ 微任务：包括Promise.then等。

事件循环对宏任务和微任务的处理：

1、首先从宏任务队列中取出第一个任务。

2、执行完第一个宏任务，再将所有微任务取出，依次全部执行，清空微任务队列，这样一次事件循环周期执行完成。

3、再从宏任务队列中取出一个任务，执行完成，再执行本次事件循环周期的所有微任务，如此循环往复执行。





